# default values.yaml
# you can write your own by refering to the examples given under each section.
serviceName: hello-world
### example serviceName ###
#serviceName: payments-service
##############

namespace: dev-0-khatabook
### example namespace ###
#namespace: dev-0-finserv
##############

labels:
  app: hello-world
  infra-env: dev-0
  infra-product: khatabook
  infra-service: hello-world
### example labels ###
# labels:
#   app: payments-service
#   infra-env: dev-0
#   infra-product: finserv
#   infra-service: payments-service
##############

vault_secret: {}

### example vault_secret ###
# vault_secret:
#   - adminToken
#   - awsCredentials__accessKeyId
#   - awsCredentials__secretAccessKey
##############


autoscaling:
  min: 2
  max: 3
  metrics: {}
  behavior: {}

### example autoscaling ###
# autoscaling:
#   min: 2
#   max: 4
#   metrics:
#     - type: Resource
#       resource:
#         name: cpu
#         target:
#           type: Utilization
#           averageUtilization: 80
#     - type: Resource
#       resource:
#         name: memory
#         target:
#           type: Utilization
#           averageUtilization: 80
#   behavior:
#     scaleUp:
#       policies:
#       - periodSeconds: 30
#         type: Pods
#         value: 1
#       - periodSeconds: 30
#         type: Percent
#         value: 10
#       selectPolicy: Max
#       stabilizationWindowSeconds: 60
#     scaleDown:
#       policies:
#       - periodSeconds: 60
#         type: Pods
#         value: 1
#       selectPolicy: Max
#       stabilizationWindowSeconds: 300

##############


deployment:
  affinity: {}
  image:
    repository: 741386957827.dkr.ecr.ap-south-1.amazonaws.com/dev-kb-loans-service
    tag: '20211111124916'
  podAnnotations: {}
  lifecycle: {}
  args: {}
  resources: {}
  nodeSelector: {}
  tolerations: {}
  env: {}

### example deployment ###

# deployment:
#   affinity: {}
#   image:
#     repository: 741386957827.dkr.ecr.ap-south-1.amazonaws.com/dev-kb-payments-service
#     tag: '20221207083306'
#   podAnnotations: {}
#   lifecycle:
#     preStop:
#       exec:
#         command:
#           - sh
#           - '-c'
#           - sleep 30
#   args: {}
#   resources:
#     limits:
#       cpu: 400m
#       memory: 1600Mi
#     requests:
#       cpu: 200m
#       memory: 800Mi
#   nodeSelector:
#     infra-node-group: node-group-compute-spot
#   tolerations:
#     - key: ComputePurposeSpotInstance
#       operator: Equal
#       value: 'true'
#       effect: PreferNoSchedule
#   env:
#     - name: DEPLOYMENT_ENV
#       value: dev-0
#     - name: DEBUG
#       value: knex:query,knex:bindings
##############


health_check:
  path: "/health"
  port: 8080

### example health_check ###
# health_check:
#   path: "/payments"
#   port: 8080
##############


ingress: {}

### example ingress ###
# ingress:
#   - name: payments-service-nginx-private
#     annotations:
#       kubernetes.io/ingress.class: kong-khatabook-private
#     rules:
#       - host: payments-service.dev-0.khatabook.com
#         http:
#           paths:
#             - path: /payments
#               pathType: Prefix
#               backend:
#                 service:
#                   name: payments-service
#                   port:
#                     number: 80
#   - name: payments-service-nginx-public
#     annotations:
#       kubernetes.io/ingress.class: kong-khatabook-private
#       konghq.com/https-redirect-status-code: '301'
#       konghq.com/protocols: https
#     rules:
#       - host: api.dev-0.khatabook.com
#         http:
#           paths:
#             - path: /payments
#               pathType: Prefix
#               backend:
#                 service:
#                   name: payments-service
#                   port:
#                     number: 80

##############


iam_role: {}

### example iam_role ###
iam_role: arn:aws:iam::741386957827:role/payments-service

##############


### do not include this
test: "{{"